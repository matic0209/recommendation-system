# Memory Optimization Settings for Recommendation Pipeline
# These settings help reduce memory usage during DAG execution

# Similarity computation batch size (smaller = less memory, but slower)
# Default: 1000. Reduce to 500 or 250 if you encounter OOM errors
SIMILARITY_BATCH_SIZE=1000

# Top K neighbors to keep for each item in similarity matrix
# Default: 200. Reduce to 100 or 50 to save memory
SIMILARITY_TOP_K=200

# Behavior similarity neighbor cap (inherits SIMILARITY_TOP_K if unset)
BEHAVIOR_SIMILARITY_TOP_K=200

# Enable/disable Faiss vector recall (can be memory intensive)
# Set to 0 to disable if memory is limited
USE_FAISS_RECALL=1

# Ranking model CVR weight
RANKING_CVR_WEIGHT=0.5

# Python garbage collection settings (optional)
# These can help reduce memory fragmentation
PYTHONHASHSEED=0
MALLOC_TRIM_THRESHOLD_=100000
